{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singh\\\\Downloads\\\\NDIS_Project-9\\\\frontend\\\\src\\\\pages\\\\participants\\\\Care\\\\CareSignOff.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { supabase } from \"../../../lib/supabase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CareSignoff() {\n  _s();\n  const {\n    participantId\n  } = useParams();\n  const [cp, setCP] = useState(null);\n  const [ra, setRA] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const load = async () => {\n    const [{\n      data: care\n    }, {\n      data: risk\n    }] = await Promise.all([supabase.from(\"care_plans\").select(\"*\").eq(\"participant_id\", participantId).maybeSingle(), supabase.from(\"risk_assessments\").select(\"*\").eq(\"participant_id\", participantId).maybeSingle()]);\n    setCP(care);\n    setRA(risk);\n    setLoading(false);\n  };\n  useEffect(() => {\n    load(); /* eslint-disable-next-line */\n  }, [participantId]);\n  const finalise = async () => {\n    if (cp !== null && cp !== void 0 && cp.id) await supabase.from(\"care_plans\").update({\n      status: \"complete\"\n    }).eq(\"id\", cp.id);\n    if (ra !== null && ra !== void 0 && ra.id) await supabase.from(\"risk_assessments\").update({\n      status: \"complete\"\n    }).eq(\"id\", ra.id);\n    await load();\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: \"Loading\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: 24,\n        fontWeight: 700\n      },\n      children: \"Care Sign-off\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gap: 12,\n        gridTemplateColumns: \"1fr 1fr\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Panel, {\n        title: \"Care Plan\",\n        status: cp === null || cp === void 0 ? void 0 : cp.status,\n        data: cp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Panel, {\n        title: \"Risk Assessment\",\n        status: ra === null || ra === void 0 ? void 0 : ra.status,\n        data: ra\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #e5e7eb\",\n        borderRadius: 8,\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: 0\n        },\n        children: \"Pre-sign-off checklist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Participant & representative details verified\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Care Plan supports and pricing reviewed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Risk controls acceptable and review date set\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Consent captured to proceed to Service Agreement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: finalise,\n        style: {\n          background: \"#2563eb\",\n          color: \"#fff\",\n          border: 0,\n          borderRadius: 8,\n          padding: \"8px 12px\"\n        },\n        children: \"Finalise (mark complete)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(CareSignoff, \"f4u3ckcYaF8GWEMY8MTFH0DjTZk=\", false, function () {\n  return [useParams];\n});\n_c = CareSignoff;\nfunction Panel({\n  title,\n  status,\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: \"1px solid #e5e7eb\",\n      borderRadius: 8,\n      padding: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          padding: \"2px 8px\",\n          borderRadius: 999,\n          background: status === \"complete\" ? \"#dcfce7\" : \"#fef9c3\",\n          color: status === \"complete\" ? \"#166534\" : \"#854d0e\",\n          fontSize: 12,\n          fontWeight: 700\n        },\n        children: status !== null && status !== void 0 ? status : \"draft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      style: {\n        whiteSpace: \"pre-wrap\",\n        fontSize: 12,\n        marginTop: 12\n      },\n      children: JSON.stringify(data, null, 2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Panel;\nvar _c, _c2;\n$RefreshReg$(_c, \"CareSignoff\");\n$RefreshReg$(_c2, \"Panel\");","map":{"version":3,"names":["useEffect","useState","useParams","supabase","jsxDEV","_jsxDEV","CareSignoff","_s","participantId","cp","setCP","ra","setRA","loading","setLoading","load","data","care","risk","Promise","all","from","select","eq","maybeSingle","finalise","id","update","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","fontSize","fontWeight","display","gap","gridTemplateColumns","Panel","title","border","borderRadius","padding","marginTop","onClick","background","color","_c","justifyContent","margin","whiteSpace","JSON","stringify","_c2","$RefreshReg$"],"sources":["C:/Users/singh/Downloads/NDIS_Project-9/frontend/src/pages/participants/Care/CareSignOff.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { supabase } from \"../../../lib/supabase\";\n\nexport default function CareSignoff() {\n  const { participantId } = useParams<{ participantId: string }>();\n  const [cp, setCP] = useState<any>(null);\n  const [ra, setRA] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  const load = async () => {\n    const [{ data: care }, { data: risk }] = await Promise.all([\n      supabase.from(\"care_plans\").select(\"*\").eq(\"participant_id\", participantId).maybeSingle(),\n      supabase.from(\"risk_assessments\").select(\"*\").eq(\"participant_id\", participantId).maybeSingle(),\n    ]);\n    setCP(care); setRA(risk); setLoading(false);\n  };\n\n  useEffect(() => { load(); /* eslint-disable-next-line */ }, [participantId]);\n\n  const finalise = async () => {\n    if (cp?.id) await supabase.from(\"care_plans\").update({ status: \"complete\" }).eq(\"id\", cp.id);\n    if (ra?.id) await supabase.from(\"risk_assessments\").update({ status: \"complete\" }).eq(\"id\", ra.id);\n    await load();\n  };\n\n  if (loading) return <div className=\"p-6\">Loadingâ€¦</div>;\n\n  return (\n    <div className=\"p-6 space-y-4\">\n      <h1 style={{ fontSize: 24, fontWeight: 700 }}>Care Sign-off</h1>\n\n      <div style={{ display: \"grid\", gap: 12, gridTemplateColumns: \"1fr 1fr\" }}>\n        <Panel title=\"Care Plan\" status={cp?.status} data={cp} />\n        <Panel title=\"Risk Assessment\" status={ra?.status} data={ra} />\n      </div>\n\n      <div style={{ border: \"1px solid #e5e7eb\", borderRadius: 8, padding: 16 }}>\n        <h3 style={{ marginTop: 0 }}>Pre-sign-off checklist</h3>\n        <ul>\n          <li>Participant & representative details verified</li>\n          <li>Care Plan supports and pricing reviewed</li>\n          <li>Risk controls acceptable and review date set</li>\n          <li>Consent captured to proceed to Service Agreement</li>\n        </ul>\n        <button onClick={finalise} style={{ background: \"#2563eb\", color: \"#fff\", border: 0, borderRadius: 8, padding: \"8px 12px\" }}>\n          Finalise (mark complete)\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction Panel({ title, status, data }: { title: string; status?: string; data: any }) {\n  return (\n    <div style={{ border: \"1px solid #e5e7eb\", borderRadius: 8, padding: 16 }}>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <h2 style={{ margin: 0 }}>{title}</h2>\n        <span style={{\n          padding: \"2px 8px\", borderRadius: 999,\n          background: status === \"complete\" ? \"#dcfce7\" : \"#fef9c3\",\n          color: status === \"complete\" ? \"#166534\" : \"#854d0e\", fontSize: 12, fontWeight: 700\n        }}>\n          {status ?? \"draft\"}\n        </span>\n      </div>\n      <pre style={{ whiteSpace: \"pre-wrap\", fontSize: 12, marginTop: 12 }}>\n        {JSON.stringify(data, null, 2)}\n      </pre>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}