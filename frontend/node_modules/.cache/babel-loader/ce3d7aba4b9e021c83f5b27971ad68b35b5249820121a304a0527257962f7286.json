{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singh\\\\Downloads\\\\NDIS_Project-9\\\\frontend\\\\src\\\\pages\\\\dashboards\\\\provider.tsx\",\n  _import$meta,\n  _import$meta$env,\n  _process$env,\n  _s = $RefreshSig$();\n// frontend/src/pages/dashboards/provider.tsx\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n/**\n * This dashboard:\n *  - GET  /api/v1/providers/referrals\n *  - PUT  /api/v1/providers/referrals/:id/status  { status: \"VALIDATED\" }\n * It expects the API to return each referral with at least: id, created_at, status,\n * and optionally a raw_submission object where participant/service info may live.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = ((_import$meta = import.meta) === null || _import$meta === void 0 ? void 0 : (_import$meta$env = _import$meta.env) === null || _import$meta$env === void 0 ? void 0 : _import$meta$env.VITE_API_BASE_URL) || ((_process$env = process.env) === null || _process$env === void 0 ? void 0 : _process$env.REACT_APP_API_BASE_URL) || \"http://localhost:8000/api/v1\";\n\n// ---- helpers ---------------------------------------------------------------\n\nfunction normalizeStatus(s) {\n  if (!s) return \"NEW\";\n  const up = s.toUpperCase().replace(/\\s+/g, \"_\");\n  const map = {\n    PENDING: \"IN_REVIEW\",\n    INREVIEW: \"IN_REVIEW\",\n    IN_REVIEW: \"IN_REVIEW\",\n    VALIDATED: \"VALIDATED\",\n    ACCEPTED: \"VALIDATED\",\n    APPROVED: \"VALIDATED\",\n    NEW: \"NEW\",\n    PROSPECT: \"PROSPECT\"\n  };\n  return map[up] || up;\n}\nfunction toReferral(sr) {\n  var _ref, _ref2, _sr$participant_id, _ref3, _ref4, _ref5, _sr$service_type;\n  const raw = sr.raw_submission || {};\n  const status = raw.provider_status || raw.status || sr.status || \"NEW\";\n  return {\n    id: sr.id,\n    created_at: sr.created_at,\n    status: normalizeStatus(status),\n    participantName: raw.participant_name || raw.participant_full_name || raw.name || undefined,\n    participantId: (_ref = (_ref2 = (_sr$participant_id = sr.participant_id) !== null && _sr$participant_id !== void 0 ? _sr$participant_id : raw.participant_id) !== null && _ref2 !== void 0 ? _ref2 : raw.participantId) !== null && _ref !== void 0 ? _ref : undefined,\n    serviceType: (_ref3 = (_ref4 = (_ref5 = (_sr$service_type = sr.service_type) !== null && _sr$service_type !== void 0 ? _sr$service_type : sr.service_types) !== null && _ref5 !== void 0 ? _ref5 : raw.service_type) !== null && _ref4 !== void 0 ? _ref4 : raw.service_types) !== null && _ref3 !== void 0 ? _ref3 : undefined\n  };\n}\n\n// ---- component -------------------------------------------------------------\n\nconst ProviderReferralDashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const [referrals, setReferrals] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const fetchReferrals = React.useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(`${API_BASE_URL}/providers/referrals`);\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const data = await res.json();\n      setReferrals((data || []).map(toReferral));\n    } catch (e) {\n      setError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load referrals\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  React.useEffect(() => {\n    fetchReferrals();\n  }, [fetchReferrals]);\n  const handleValidate = async r => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/providers/referrals/${r.id}/status`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          status: \"VALIDATED\"\n        })\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const payload = await res.json();\n      const nextStatus = normalizeStatus((payload === null || payload === void 0 ? void 0 : payload.status) || \"VALIDATED\");\n      setReferrals(cur => cur.map(x => x.id === r.id ? {\n        ...x,\n        status: nextStatus\n      } : x));\n    } catch (e) {\n      alert((e === null || e === void 0 ? void 0 : e.message) || \"Failed to validate referral\");\n    }\n  };\n  const handleCarePlan = r => {\n    const pid = r.participantId;\n    if (!pid) {\n      alert(\"Participant ID is missing on this referral. Validate/convert the referral first.\");\n      return;\n    }\n    navigate(`/participants/care/plan?participantId=${pid}`);\n  };\n  const validatedCount = referrals.filter(r => r.status === \"VALIDATED\").length;\n  const pendingCount = referrals.filter(r => r.status !== \"VALIDATED\").length;\n  const totalReferrals = referrals.length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-semibold text-gray-900\",\n          children: \"Provider Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Review and validate participant referral data.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchReferrals,\n          className: \"px-3 py-2 text-sm rounded-lg border hover:bg-gray-50\",\n          title: \"Refresh list\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500\",\n        children: /*#__PURE__*/_jsxDEV(\"dl\", {\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-sm font-medium text-gray-500 truncate\",\n            children: \"Total Referrals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            className: \"text-3xl font-semibold text-gray-900\",\n            children: totalReferrals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 border-l-4 border-green-500\",\n        children: /*#__PURE__*/_jsxDEV(\"dl\", {\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-sm font-medium text-gray-500 truncate\",\n            children: \"Validated Referrals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            className: \"text-3xl font-semibold text-gray-900\",\n            children: validatedCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 border-l-4 border-yellow-500\",\n        children: /*#__PURE__*/_jsxDEV(\"dl\", {\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-sm font-medium text-gray-500 truncate\",\n            children: \"Pending Referrals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            className: \"text-3xl font-semibold text-gray-900\",\n            children: pendingCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-4\",\n          children: \"Recent Referrals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Loading referrals\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-md border border-red-300 bg-red-50 p-3 text-sm text-red-700\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), !loading && !error && referrals.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: \"No referrals yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: referrals.map(ref => {\n            const canValidate = ref.status !== \"VALIDATED\";\n            const canOpenCarePlan = ref.status === \"VALIDATED\" || ref.status === \"PROSPECT\";\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-900 block\",\n                  children: [\"Referral #\", ref.id, \" \\u2014 \", ref.participantName || \"Unknown\", \" \", ref.serviceType ? `(${ref.serviceType})` : \"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500 capitalize\",\n                  children: ref.status.replace(/_/g, \" \").toLowerCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => alert(`Review ${ref.id} — implement details view`),\n                  className: \"px-4 py-2 border rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-100 shadow-sm\",\n                  children: \"Review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleValidate(ref),\n                  disabled: !canValidate,\n                  className: `px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white shadow-sm ${canValidate ? \"bg-blue-600 hover:bg-blue-700\" : \"bg-gray-400 cursor-not-allowed\"}`,\n                  children: \"Validate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleCarePlan(ref),\n                  disabled: !canOpenCarePlan,\n                  className: `px-4 py-2 border rounded-lg text-sm font-medium shadow-sm ${canOpenCarePlan ? \"text-gray-700 bg-white hover:bg-gray-100\" : \"text-gray-400 bg-gray-100 cursor-not-allowed\"}`,\n                  title: canOpenCarePlan ? \"Open Care Plan\" : \"Care Plan available after validation\",\n                  children: \"Care Plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this)]\n            }, ref.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n};\n_s(ProviderReferralDashboard, \"L/yjrK+3GwWCCIxXrXYqoy4RPoE=\", false, function () {\n  return [useNavigate];\n});\n_c = ProviderReferralDashboard;\nexport default ProviderReferralDashboard;\nvar _c;\n$RefreshReg$(_c, \"ProviderReferralDashboard\");","map":{"version":3,"names":["React","useNavigate","jsxDEV","_jsxDEV","API_BASE_URL","_import$meta","import","meta","_import$meta$env","env","VITE_API_BASE_URL","_process$env","process","REACT_APP_API_BASE_URL","normalizeStatus","s","up","toUpperCase","replace","map","PENDING","INREVIEW","IN_REVIEW","VALIDATED","ACCEPTED","APPROVED","NEW","PROSPECT","toReferral","sr","_ref","_ref2","_sr$participant_id","_ref3","_ref4","_ref5","_sr$service_type","raw","raw_submission","status","provider_status","id","created_at","participantName","participant_name","participant_full_name","name","undefined","participantId","participant_id","serviceType","service_type","service_types","ProviderReferralDashboard","_s","navigate","referrals","setReferrals","useState","loading","setLoading","error","setError","fetchReferrals","useCallback","res","fetch","ok","Error","data","json","e","message","useEffect","handleValidate","r","method","headers","body","JSON","stringify","payload","nextStatus","cur","x","alert","handleCarePlan","pid","validatedCount","filter","length","pendingCount","totalReferrals","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","ref","canValidate","canOpenCarePlan","toLowerCase","type","disabled","_c","$RefreshReg$"],"sources":["C:/Users/singh/Downloads/NDIS_Project-9/frontend/src/pages/dashboards/provider.tsx"],"sourcesContent":["// frontend/src/pages/dashboards/provider.tsx\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n/**\n * This dashboard:\n *  - GET  /api/v1/providers/referrals\n *  - PUT  /api/v1/providers/referrals/:id/status  { status: \"VALIDATED\" }\n * It expects the API to return each referral with at least: id, created_at, status,\n * and optionally a raw_submission object where participant/service info may live.\n */\n\ntype ServerReferral = {\n  id: number;\n  created_at?: string;\n  status?: string; // may be inside raw_submission as provider_status/status\n  participant_id?: number | string;\n  service_type?: string;\n  service_types?: string; // some older payloads\n  raw_submission?: Record<string, any> | null;\n};\n\ntype Referral = {\n  id: number;\n  created_at?: string;\n  status: string; // normalized\n  participantName?: string;\n  participantId?: number | string;\n  serviceType?: string;\n};\n\nconst API_BASE_URL =\n  (import.meta as any)?.env?.VITE_API_BASE_URL ||\n  (process.env as any)?.REACT_APP_API_BASE_URL ||\n  \"http://localhost:8000/api/v1\";\n\n// ---- helpers ---------------------------------------------------------------\n\nfunction normalizeStatus(s?: string): string {\n  if (!s) return \"NEW\";\n  const up = s.toUpperCase().replace(/\\s+/g, \"_\");\n  const map: Record<string, string> = {\n    PENDING: \"IN_REVIEW\",\n    INREVIEW: \"IN_REVIEW\",\n    IN_REVIEW: \"IN_REVIEW\",\n    VALIDATED: \"VALIDATED\",\n    ACCEPTED: \"VALIDATED\",\n    APPROVED: \"VALIDATED\",\n    NEW: \"NEW\",\n    PROSPECT: \"PROSPECT\",\n  };\n  return map[up] || up;\n}\n\nfunction toReferral(sr: ServerReferral): Referral {\n  const raw = sr.raw_submission || {};\n  const status =\n    raw.provider_status || raw.status || sr.status || \"NEW\";\n\n  return {\n    id: sr.id,\n    created_at: sr.created_at,\n    status: normalizeStatus(status),\n    participantName:\n      raw.participant_name ||\n      raw.participant_full_name ||\n      raw.name ||\n      undefined,\n    participantId:\n      sr.participant_id ??\n      raw.participant_id ??\n      raw.participantId ??\n      undefined,\n    serviceType:\n      sr.service_type ??\n      sr.service_types ??\n      raw.service_type ??\n      raw.service_types ??\n      undefined,\n  };\n}\n\n// ---- component -------------------------------------------------------------\n\nconst ProviderReferralDashboard: React.FC = () => {\n  const navigate = useNavigate();\n\n  const [referrals, setReferrals] = React.useState<Referral[]>([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState<string | null>(null);\n\n  const fetchReferrals = React.useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(`${API_BASE_URL}/providers/referrals`);\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const data = (await res.json()) as ServerReferral[];\n      setReferrals((data || []).map(toReferral));\n    } catch (e: any) {\n      setError(e?.message || \"Failed to load referrals\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    fetchReferrals();\n  }, [fetchReferrals]);\n\n  const handleValidate = async (r: Referral) => {\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}/providers/referrals/${r.id}/status`,\n        {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ status: \"VALIDATED\" }),\n        }\n      );\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const payload = (await res.json()) as { id: number; status?: string };\n      const nextStatus = normalizeStatus(payload?.status || \"VALIDATED\");\n\n      setReferrals((cur) =>\n        cur.map((x) => (x.id === r.id ? { ...x, status: nextStatus } : x))\n      );\n    } catch (e: any) {\n      alert(e?.message || \"Failed to validate referral\");\n    }\n  };\n\n  const handleCarePlan = (r: Referral) => {\n    const pid = r.participantId;\n    if (!pid) {\n      alert(\n        \"Participant ID is missing on this referral. Validate/convert the referral first.\"\n      );\n      return;\n    }\n    navigate(`/participants/care/plan?participantId=${pid}`);\n  };\n\n  const validatedCount = referrals.filter((r) => r.status === \"VALIDATED\").length;\n  const pendingCount = referrals.filter((r) => r.status !== \"VALIDATED\").length;\n  const totalReferrals = referrals.length;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-semibold text-gray-900\">\n            Provider Dashboard\n          </h1>\n          <p className=\"text-sm text-gray-600\">\n            Review and validate participant referral data.\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={fetchReferrals}\n            className=\"px-3 py-2 text-sm rounded-lg border hover:bg-gray-50\"\n            title=\"Refresh list\"\n          >\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3\">\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500\">\n          <dl>\n            <dt className=\"text-sm font-medium text-gray-500 truncate\">\n              Total Referrals\n            </dt>\n            <dd className=\"text-3xl font-semibold text-gray-900\">\n              {totalReferrals}\n            </dd>\n          </dl>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-green-500\">\n          <dl>\n            <dt className=\"text-sm font-medium text-gray-500 truncate\">\n              Validated Referrals\n            </dt>\n            <dd className=\"text-3xl font-semibold text-gray-900\">\n              {validatedCount}\n            </dd>\n          </dl>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-yellow-500\">\n          <dl>\n            <dt className=\"text-sm font-medium text-gray-500 truncate\">\n              Pending Referrals\n            </dt>\n            <dd className=\"text-3xl font-semibold text-gray-900\">\n              {pendingCount}\n            </dd>\n          </dl>\n        </div>\n      </div>\n\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n            Recent Referrals\n          </h3>\n\n          {loading && (\n            <div className=\"text-sm text-gray-500\">Loading referrals…</div>\n          )}\n          {error && (\n            <div className=\"rounded-md border border-red-300 bg-red-50 p-3 text-sm text-red-700\">\n              {error}\n            </div>\n          )}\n\n          {!loading && !error && referrals.length === 0 && (\n            <div className=\"text-sm text-gray-500\">No referrals yet.</div>\n          )}\n\n          <div className=\"space-y-4\">\n            {referrals.map((ref) => {\n              const canValidate = ref.status !== \"VALIDATED\";\n              const canOpenCarePlan =\n                ref.status === \"VALIDATED\" || ref.status === \"PROSPECT\";\n\n              return (\n                <div key={ref.id} className=\"flex justify-between items-center\">\n                  <div>\n                    <span className=\"text-sm text-gray-900 block\">\n                      Referral #{ref.id} — {ref.participantName || \"Unknown\"}{\" \"}\n                      {ref.serviceType ? `(${ref.serviceType})` : \"\"}\n                    </span>\n                    <span className=\"text-sm text-gray-500 capitalize\">\n                      {ref.status.replace(/_/g, \" \").toLowerCase()}\n                    </span>\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <button\n                      type=\"button\"\n                      onClick={() =>\n                        alert(`Review ${ref.id} — implement details view`)\n                      }\n                      className=\"px-4 py-2 border rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-100 shadow-sm\"\n                    >\n                      Review\n                    </button>\n\n                    <button\n                      type=\"button\"\n                      onClick={() => handleValidate(ref)}\n                      disabled={!canValidate}\n                      className={`px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white shadow-sm ${\n                        canValidate\n                          ? \"bg-blue-600 hover:bg-blue-700\"\n                          : \"bg-gray-400 cursor-not-allowed\"\n                      }`}\n                    >\n                      Validate\n                    </button>\n\n                    <button\n                      type=\"button\"\n                      onClick={() => handleCarePlan(ref)}\n                      disabled={!canOpenCarePlan}\n                      className={`px-4 py-2 border rounded-lg text-sm font-medium shadow-sm ${\n                        canOpenCarePlan\n                          ? \"text-gray-700 bg-white hover:bg-gray-100\"\n                          : \"text-gray-400 bg-gray-100 cursor-not-allowed\"\n                      }`}\n                      title={\n                        canOpenCarePlan\n                          ? \"Open Care Plan\"\n                          : \"Care Plan available after validation\"\n                      }\n                    >\n                      Care Plan\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProviderReferralDashboard;\n"],"mappings":";;;;;AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AANA,SAAAC,MAAA,IAAAC,OAAA;AA2BA,MAAMC,YAAY,GAChB,EAAAC,YAAA,GAACC,MAAM,CAACC,IAAI,cAAAF,YAAA,wBAAAG,gBAAA,GAAZH,YAAA,CAAsBI,GAAG,cAAAD,gBAAA,uBAAzBA,gBAAA,CAA2BE,iBAAiB,OAAAC,YAAA,GAC3CC,OAAO,CAACH,GAAG,cAAAE,YAAA,uBAAZA,YAAA,CAAsBE,sBAAsB,KAC5C,8BAA8B;;AAEhC;;AAEA,SAASC,eAAeA,CAACC,CAAU,EAAU;EAC3C,IAAI,CAACA,CAAC,EAAE,OAAO,KAAK;EACpB,MAAMC,EAAE,GAAGD,CAAC,CAACE,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;EAC/C,MAAMC,GAA2B,GAAG;IAClCC,OAAO,EAAE,WAAW;IACpBC,QAAQ,EAAE,WAAW;IACrBC,SAAS,EAAE,WAAW;IACtBC,SAAS,EAAE,WAAW;IACtBC,QAAQ,EAAE,WAAW;IACrBC,QAAQ,EAAE,WAAW;IACrBC,GAAG,EAAE,KAAK;IACVC,QAAQ,EAAE;EACZ,CAAC;EACD,OAAOR,GAAG,CAACH,EAAE,CAAC,IAAIA,EAAE;AACtB;AAEA,SAASY,UAAUA,CAACC,EAAkB,EAAY;EAAA,IAAAC,IAAA,EAAAC,KAAA,EAAAC,kBAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,gBAAA;EAChD,MAAMC,GAAG,GAAGR,EAAE,CAACS,cAAc,IAAI,CAAC,CAAC;EACnC,MAAMC,MAAM,GACVF,GAAG,CAACG,eAAe,IAAIH,GAAG,CAACE,MAAM,IAAIV,EAAE,CAACU,MAAM,IAAI,KAAK;EAEzD,OAAO;IACLE,EAAE,EAAEZ,EAAE,CAACY,EAAE;IACTC,UAAU,EAAEb,EAAE,CAACa,UAAU;IACzBH,MAAM,EAAEzB,eAAe,CAACyB,MAAM,CAAC;IAC/BI,eAAe,EACbN,GAAG,CAACO,gBAAgB,IACpBP,GAAG,CAACQ,qBAAqB,IACzBR,GAAG,CAACS,IAAI,IACRC,SAAS;IACXC,aAAa,GAAAlB,IAAA,IAAAC,KAAA,IAAAC,kBAAA,GACXH,EAAE,CAACoB,cAAc,cAAAjB,kBAAA,cAAAA,kBAAA,GACjBK,GAAG,CAACY,cAAc,cAAAlB,KAAA,cAAAA,KAAA,GAClBM,GAAG,CAACW,aAAa,cAAAlB,IAAA,cAAAA,IAAA,GACjBiB,SAAS;IACXG,WAAW,GAAAjB,KAAA,IAAAC,KAAA,IAAAC,KAAA,IAAAC,gBAAA,GACTP,EAAE,CAACsB,YAAY,cAAAf,gBAAA,cAAAA,gBAAA,GACfP,EAAE,CAACuB,aAAa,cAAAjB,KAAA,cAAAA,KAAA,GAChBE,GAAG,CAACc,YAAY,cAAAjB,KAAA,cAAAA,KAAA,GAChBG,GAAG,CAACe,aAAa,cAAAnB,KAAA,cAAAA,KAAA,GACjBc;EACJ,CAAC;AACH;;AAEA;;AAEA,MAAMM,yBAAmC,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChD,MAAMC,QAAQ,GAAGtD,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACuD,SAAS,EAAEC,YAAY,CAAC,GAAGzD,KAAK,CAAC0D,QAAQ,CAAa,EAAE,CAAC;EAChE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG5D,KAAK,CAAC0D,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAG9D,KAAK,CAAC0D,QAAQ,CAAgB,IAAI,CAAC;EAE7D,MAAMK,cAAc,GAAG/D,KAAK,CAACgE,WAAW,CAAC,YAAY;IACnDJ,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAG9D,YAAY,sBAAsB,CAAC;MAC9D,IAAI,CAAC6D,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,QAAQH,GAAG,CAAC1B,MAAM,EAAE,CAAC;MAClD,MAAM8B,IAAI,GAAI,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAsB;MACnDb,YAAY,CAAC,CAACY,IAAI,IAAI,EAAE,EAAElD,GAAG,CAACS,UAAU,CAAC,CAAC;IAC5C,CAAC,CAAC,OAAO2C,CAAM,EAAE;MACfT,QAAQ,CAAC,CAAAS,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAEC,OAAO,KAAI,0BAA0B,CAAC;IACpD,CAAC,SAAS;MACRZ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN5D,KAAK,CAACyE,SAAS,CAAC,MAAM;IACpBV,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,MAAMW,cAAc,GAAG,MAAOC,CAAW,IAAK;IAC5C,IAAI;MACF,MAAMV,GAAG,GAAG,MAAMC,KAAK,CACrB,GAAG9D,YAAY,wBAAwBuE,CAAC,CAAClC,EAAE,SAAS,EACpD;QACEmC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEzC,MAAM,EAAE;QAAY,CAAC;MAC9C,CACF,CAAC;MACD,IAAI,CAAC0B,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,QAAQH,GAAG,CAAC1B,MAAM,EAAE,CAAC;MAClD,MAAM0C,OAAO,GAAI,MAAMhB,GAAG,CAACK,IAAI,CAAC,CAAqC;MACrE,MAAMY,UAAU,GAAGpE,eAAe,CAAC,CAAAmE,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE1C,MAAM,KAAI,WAAW,CAAC;MAElEkB,YAAY,CAAE0B,GAAG,IACfA,GAAG,CAAChE,GAAG,CAAEiE,CAAC,IAAMA,CAAC,CAAC3C,EAAE,KAAKkC,CAAC,CAAClC,EAAE,GAAG;QAAE,GAAG2C,CAAC;QAAE7C,MAAM,EAAE2C;MAAW,CAAC,GAAGE,CAAE,CACnE,CAAC;IACH,CAAC,CAAC,OAAOb,CAAM,EAAE;MACfc,KAAK,CAAC,CAAAd,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAEC,OAAO,KAAI,6BAA6B,CAAC;IACpD;EACF,CAAC;EAED,MAAMc,cAAc,GAAIX,CAAW,IAAK;IACtC,MAAMY,GAAG,GAAGZ,CAAC,CAAC3B,aAAa;IAC3B,IAAI,CAACuC,GAAG,EAAE;MACRF,KAAK,CACH,kFACF,CAAC;MACD;IACF;IACA9B,QAAQ,CAAC,yCAAyCgC,GAAG,EAAE,CAAC;EAC1D,CAAC;EAED,MAAMC,cAAc,GAAGhC,SAAS,CAACiC,MAAM,CAAEd,CAAC,IAAKA,CAAC,CAACpC,MAAM,KAAK,WAAW,CAAC,CAACmD,MAAM;EAC/E,MAAMC,YAAY,GAAGnC,SAAS,CAACiC,MAAM,CAAEd,CAAC,IAAKA,CAAC,CAACpC,MAAM,KAAK,WAAW,CAAC,CAACmD,MAAM;EAC7E,MAAME,cAAc,GAAGpC,SAAS,CAACkC,MAAM;EAEvC,oBACEvF,OAAA;IAAK0F,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxB3F,OAAA;MAAK0F,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChD3F,OAAA;QAAA2F,QAAA,gBACE3F,OAAA;UAAI0F,SAAS,EAAC,sCAAsC;UAAAC,QAAA,EAAC;QAErD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL/F,OAAA;UAAG0F,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAErC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACN/F,OAAA;QAAK0F,SAAS,EAAC,yBAAyB;QAAAC,QAAA,eACtC3F,OAAA;UACEgG,OAAO,EAAEpC,cAAe;UACxB8B,SAAS,EAAC,sDAAsD;UAChEO,KAAK,EAAC,cAAc;UAAAN,QAAA,EACrB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN/F,OAAA;MAAK0F,SAAS,EAAC,sDAAsD;MAAAC,QAAA,gBACnE3F,OAAA;QAAK0F,SAAS,EAAC,2DAA2D;QAAAC,QAAA,eACxE3F,OAAA;UAAA2F,QAAA,gBACE3F,OAAA;YAAI0F,SAAS,EAAC,4CAA4C;YAAAC,QAAA,EAAC;UAE3D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL/F,OAAA;YAAI0F,SAAS,EAAC,sCAAsC;YAAAC,QAAA,EACjDF;UAAc;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEN/F,OAAA;QAAK0F,SAAS,EAAC,4DAA4D;QAAAC,QAAA,eACzE3F,OAAA;UAAA2F,QAAA,gBACE3F,OAAA;YAAI0F,SAAS,EAAC,4CAA4C;YAAAC,QAAA,EAAC;UAE3D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL/F,OAAA;YAAI0F,SAAS,EAAC,sCAAsC;YAAAC,QAAA,EACjDN;UAAc;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEN/F,OAAA;QAAK0F,SAAS,EAAC,6DAA6D;QAAAC,QAAA,eAC1E3F,OAAA;UAAA2F,QAAA,gBACE3F,OAAA;YAAI0F,SAAS,EAAC,4CAA4C;YAAAC,QAAA,EAAC;UAE3D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL/F,OAAA;YAAI0F,SAAS,EAAC,sCAAsC;YAAAC,QAAA,EACjDH;UAAY;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN/F,OAAA;MAAK0F,SAAS,EAAC,4BAA4B;MAAAC,QAAA,eACzC3F,OAAA;QAAK0F,SAAS,EAAC,KAAK;QAAAC,QAAA,gBAClB3F,OAAA;UAAI0F,SAAS,EAAC,wCAAwC;UAAAC,QAAA,EAAC;QAEvD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEJvC,OAAO,iBACNxD,OAAA;UAAK0F,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAC/D,EACArC,KAAK,iBACJ1D,OAAA;UAAK0F,SAAS,EAAC,qEAAqE;UAAAC,QAAA,EACjFjC;QAAK;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAEA,CAACvC,OAAO,IAAI,CAACE,KAAK,IAAIL,SAAS,CAACkC,MAAM,KAAK,CAAC,iBAC3CvF,OAAA;UAAK0F,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAC9D,eAED/F,OAAA;UAAK0F,SAAS,EAAC,WAAW;UAAAC,QAAA,EACvBtC,SAAS,CAACrC,GAAG,CAAEkF,GAAG,IAAK;YACtB,MAAMC,WAAW,GAAGD,GAAG,CAAC9D,MAAM,KAAK,WAAW;YAC9C,MAAMgE,eAAe,GACnBF,GAAG,CAAC9D,MAAM,KAAK,WAAW,IAAI8D,GAAG,CAAC9D,MAAM,KAAK,UAAU;YAEzD,oBACEpC,OAAA;cAAkB0F,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAC7D3F,OAAA;gBAAA2F,QAAA,gBACE3F,OAAA;kBAAM0F,SAAS,EAAC,6BAA6B;kBAAAC,QAAA,GAAC,YAClC,EAACO,GAAG,CAAC5D,EAAE,EAAC,UAAG,EAAC4D,GAAG,CAAC1D,eAAe,IAAI,SAAS,EAAE,GAAG,EAC1D0D,GAAG,CAACnD,WAAW,GAAG,IAAImD,GAAG,CAACnD,WAAW,GAAG,GAAG,EAAE;gBAAA;kBAAA6C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC,eACP/F,OAAA;kBAAM0F,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,EAC/CO,GAAG,CAAC9D,MAAM,CAACrB,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACsF,WAAW,CAAC;gBAAC;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eAEN/F,OAAA;gBAAK0F,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzB3F,OAAA;kBACEsG,IAAI,EAAC,QAAQ;kBACbN,OAAO,EAAEA,CAAA,KACPd,KAAK,CAAC,UAAUgB,GAAG,CAAC5D,EAAE,2BAA2B,CAClD;kBACDoD,SAAS,EAAC,oGAAoG;kBAAAC,QAAA,EAC/G;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAET/F,OAAA;kBACEsG,IAAI,EAAC,QAAQ;kBACbN,OAAO,EAAEA,CAAA,KAAMzB,cAAc,CAAC2B,GAAG,CAAE;kBACnCK,QAAQ,EAAE,CAACJ,WAAY;kBACvBT,SAAS,EAAE,2FACTS,WAAW,GACP,+BAA+B,GAC/B,gCAAgC,EACnC;kBAAAR,QAAA,EACJ;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAET/F,OAAA;kBACEsG,IAAI,EAAC,QAAQ;kBACbN,OAAO,EAAEA,CAAA,KAAMb,cAAc,CAACe,GAAG,CAAE;kBACnCK,QAAQ,EAAE,CAACH,eAAgB;kBAC3BV,SAAS,EAAE,6DACTU,eAAe,GACX,0CAA0C,GAC1C,8CAA8C,EACjD;kBACHH,KAAK,EACHG,eAAe,GACX,gBAAgB,GAChB,sCACL;kBAAAT,QAAA,EACF;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA,GApDEG,GAAG,CAAC5D,EAAE;cAAAsD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAqDX,CAAC;UAEV,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC5C,EAAA,CA/MID,yBAAmC;EAAA,QACtBpD,WAAW;AAAA;AAAA0G,EAAA,GADxBtD,yBAAmC;AAiNzC,eAAeA,yBAAyB;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}